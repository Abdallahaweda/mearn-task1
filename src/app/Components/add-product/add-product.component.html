<div class="container-fluid mt-3 d-flex align-items-center">
  <div class="container justify-content-center d-flex">
    <form [formGroup]="form" (ngSubmit)="addProduct()">
      <!-- <div> -->
      <div class="mb-3">
        <label for="exampleInputEmail2" class="form-label">Product Name</label>
        <input
          type="text"
          formControlName="name"
          id="exampleInputEmail2"
          class="form-control"
          [ngClass]="{
            'is-invalid':
              form.controls['name'].invalid && form.controls['name'].touched,
            'is-valid':
              form.controls['name'].valid && form.controls['name'].touched
          }"
        />
        <div
          class="invalid-feedback"
          *ngIf="form.controls['name'].invalid && form.controls['name'].touched"
        >
          <span *ngIf="form.controls['name'].hasError('required')">
            please enter Product Name
          </span>
          <span *ngIf="form.controls['name'].hasError('minlength')">
            Product Name Must be at least 3 characters
          </span>
        </div>
        <div
          class="valid-feedback"
          *ngIf="form.controls['name'].valid && form.controls['name'].touched"
        >
          Looks Good!
        </div>
      </div>
      <div class="mb-3">
        <label for="exampleInputEmail" class="form-label">Product Price</label>
        <input
          type="number"
          formControlName="price"
          id="exampleInputEmail"
          class="form-control"
          [ngClass]="{
            'is-invalid':
              form.controls['price'].invalid && form.controls['price'].touched,
            'is-valid':
              form.controls['price'].valid && form.controls['price'].touched
          }"
        />
        <div
          class="invalid-feedback"
          *ngIf="
            form.controls['price'].invalid && form.controls['price'].touched
          "
        >
          <span *ngIf="form.controls['price'].hasError('required')">
            please enter Product Price
          </span>
          <span *ngIf="form.controls['price'].hasError('min')">
            Product Price must be at least 10 bound
          </span>
        </div>
        <div
          class="valid-feedback"
          *ngIf="form.controls['name'].valid && form.controls['name'].touched"
        >
          Looks Good!
        </div>
      </div>
      <div class="mb-3">
        <label for="exampleInputEmail1" class="form-label">Quantity</label>
        <input
          type="number"
          formControlName="quantity"
          id="exampleInputEmail1"
          class="form-control"
          [ngClass]="{
            'is-invalid':
              form.controls['quantity'].invalid &&
              form.controls['quantity'].touched,
            'is-valid':
              form.controls['quantity'].valid &&
              form.controls['quantity'].touched
          }"
        />
        <div
          class="invalid-feedback"
          *ngIf="
            form.controls['quantity'].invalid &&
            form.controls['quantity'].touched
          "
        >
          <span *ngIf="form.controls['quantity'].hasError('required')">
            please enter Product Quantity
          </span>
          <span *ngIf="form.controls['quantity'].hasError('minlength')">
            Product Quantity must be at least 1
          </span>
        </div>
        <div
          class="valid-feedback"
          *ngIf="
            form.controls['quantity'].valid && form.controls['quantity'].touched
          "
        >
          Looks Good!
        </div>
      </div>
      <div class="mb-3">
        <label for="exampleInputPassword1" class="form-label"
          >Description</label
        >
        <textarea
          class="form-control"
          formControlName="description"
          id="exampleInputPassword1"
          [ngClass]="{
            'is-invalid':
              form.controls['description'].invalid &&
              form.controls['description'].touched,
            'is-valid':
              form.controls['description'].valid &&
              form.controls['description'].touched
          }"
        ></textarea>
        <div
          class="invalid-feedback"
          *ngIf="
            form.controls['description'].invalid &&
            form.controls['description'].touched
          "
        >
          <span *ngIf="form.controls['description'].hasError('required')">
            please enter Product Description
          </span>
          <span *ngIf="form.controls['description'].hasError('minlength')">
            Product Description must be at least 10 characters
          </span>
        </div>
        <div
          class="valid-feedback"
          *ngIf="
            form.controls['description'].valid &&
            form.controls['description'].touched
          "
        >
          Looks Good!
        </div>
      </div>

      <div class="mb-3">
        <label for="">Product Image</label>
        <input
          type="file"
          class="form-control"
          #imginput
          (change)="chooseImg(imginput)"
        />
        <!-- <div
          class="invalid-feedback"
          *ngIf="
            form.controls['imgURL'].invalid && form.controls['imgURL'].touched
          "
        >
          <span *ngIf="form.controls['imgURL'].hasError('required')">
            please enter Product Image
          </span>
        </div>
        <div
          class="valid-feedback"
          *ngIf="
            form.controls['imgURL'].valid && form.controls['imgURL'].touched
          "
        >
          Looks Good!
        </div> -->
      </div>
      <div class="mb-3" formArrayName="colors">
        <label for="">Product Colors</label>
        <div
          class="row d-flex align-items-center mb-2"
          *ngFor="let color of colorArray.controls; let i = index"
        >
          <input
            type="color"
            [formControlName]="i"
            class="form-control col mx-2"
          />
          <button
            type="button"
            class="btn btn-outline-danger w-25"
            (click)="removeColor(i)"
          >
            X
          </button>
        </div>
        <button
          type="button"
          class="btn btn-outline-primary col mt-2"
          (click)="addColor()"
        >
          Add
        </button>
      </div>
      <button type="submit" class="btn btn-primary" [disabled]="form.invalid">
        Add
      </button>
    </form>
    <!-- </div> -->
  </div>
</div>
